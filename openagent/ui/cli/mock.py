def mock_openai():
    import os

    from aioresponses import aioresponses
    from responses import RequestsMock

    # Mock the openai api key
    os.environ["OPENAI_API_KEY"] = "sk-FAKE-OPENAI-API-KEY"

    mocked_completion = {
        "id": "cmpl-uqkvlQyYK7bGYrRHQ0eXlWi7",
        "object": "text_completion",
        "created": 1589478378,
        "model": "text-davinci-003",
        "choices": [
            {
                "text": "\n\n```text\n3*3\n```",
                "index": 0,
                "logprobs": None,
                "finish_reason": "length",
            }
        ],
        "usage": {
            "prompt_tokens": 5,
            "completion_tokens": 7,
            "total_tokens": 12,
        },
    }

    mocked_embedding = {
        "data": [
            {
                "embedding": [
                    -0.00836049672216177,
                    -0.027484877035021782,
                    -0.01576237753033638,
                    -0.021418210119009018,
                    0.004159706644713879,
                    0.010264033451676369,
                    0.023116327822208405,
                    -0.00405699759721756,
                    -0.00944921001791954,
                    -0.013235741294920444,
                    0.016501881182193756,
                    0.015885628759860992,
                    -0.010887132957577705,
                    0.002076429780572653,
                    0.0009842927101999521,
                    0.0108186611905694,
                    0.019240783527493477,
                    -0.01489962451159954,
                    0.03883762285113335,
                    -0.01863822527229786,
                    -0.005395635962486267,
                    -0.013646576553583145,
                    0.01301662903279066,
                    0.0029631489887833595,
                    0.0009517682483419776,
                    0.004871821030974388,
                    0.0302374716848135,
                    -0.02864890918135643,
                    0.022773966193199158,
                    -0.019939202815294266,
                    -0.0161869078874588,
                    -0.025992175564169884,
                    -0.012386681511998177,
                    -0.00405699759721756,
                    -0.01488592941313982,
                    -0.024677501991391182,
                    -0.007908578030765057,
                    -0.016597742214798927,
                    0.007422422990202904,
                    -0.015392626635730267,
                    0.012756433337926865,
                    -0.0016296464018523693,
                    -0.006364522501826286,
                    -0.002435910515487194,
                    -0.02273288182914257,
                    0.013708202168345451,
                    -0.02174687758088112,
                    -0.02633453719317913,
                    0.013838299550116062,
                    0.042316026985645294,
                    0.04182302579283714,
                    0.011332204565405846,
                    -0.006860948167741299,
                    -0.029689691960811615,
                    -0.020829346030950546,
                    -0.011818359605967999,
                    -0.011914221569895744,
                    0.012455154210329056,
                    -0.014160120859742165,
                    -0.023896915838122368,
                    -0.010366742499172688,
                    0.006059819366782904,
                    -0.0077716330997645855,
                    -0.004200790077447891,
                    -0.005200489424169064,
                    -0.017501579597592354,
                    -0.018980586901307106,
                    0.003909782040864229,
                    -0.005405906587839127,
                    0.00633713323622942,
                    0.053846802562475204,
                    0.03505793958902359,
                    0.00721015827730298,
                    0.0017700151074677706,
                    0.029963582754135132,
                    -0.0026772762648761272,
                    -0.024855531752109528,
                    0.0005807327106595039,
                    -0.018994281068444252,
                    -0.026676900684833527,
                    0.009195861406624317,
                    -0.018419113010168076,
                    0.005279232747852802,
                    -0.016611438244581223,
                    0.010250338353216648,
                    0.0046458616852760315,
                    0.01153077557682991,
                    0.02240421436727047,
                    -0.030840029940009117,
                    -0.018049361184239388,
                    -0.0042213317938148975,
                    0.030620917677879333,
                    0.005820165853947401,
                    0.031935591250658035,
                    -0.02130865305662155,
                    0.005159405525773764,
                    -0.01721399649977684,
                    0.021075846627354622,
                    0.01308510173112154,
                    -0.02415711060166359,
                    0.04532881826162338,
                    -0.008182467892765999,
                    -0.0261017307639122,
                    -0.01442031655460596,
                    -0.012948156334459782,
                    -0.009141083806753159,
                    -0.008702859282493591,
                    -0.012996087782084942,
                    0.00538536487147212,
                    -0.00090041384100914,
                    -0.016378629952669144,
                    -0.005912603810429573,
                    0.016008879989385605,
                    -0.029361024498939514,
                    0.006463807541877031,
                    -0.009161625057458878,
                    -0.0063474043272435665,
                    -0.003086399519816041,
                    -0.007264936342835426,
                    -0.002589973621070385,
                    0.008456358686089516,
                    0.020925207063555717,
                    0.01424228772521019,
                    -0.0020712942350655794,
                    0.006251542828977108,
                    -0.032428592443466187,
                    0.001331790816038847,
                    0.001057900721207261,
                    0.0006834415253251791,
                    -0.009147930890321732,
                    0.03185342252254486,
                    0.010791271924972534,
                    0.004146012011915445,
                    -0.030319638550281525,
                    -0.020665012300014496,
                    0.015420014970004559,
                    -0.01955575682222843,
                    -0.005087509285658598,
                    -0.011968999169766903,
                    -0.012783822603523731,
                    0.020172009244561195,
                    0.0033243417274206877,
                    -0.019774869084358215,
                    -0.01197584718465805,
                    0.01424228772521019,
                    0.027005568146705627,
                    0.018391722813248634,
                    -0.00992851797491312,
                    0.013222047127783298,
                    8.805140532786027e-05,
                    0.0009055493283085525,
                    0.006672648712992668,
                    -0.008353649638593197,
                    -0.004457562230527401,
                    0.011297968216240406,
                    0.017734387889504433,
                    -0.013468547724187374,
                    0.019281866028904915,
                    0.01939142309129238,
                    -0.00026682892348617315,
                    -0.023937998339533806,
                    -0.006850677542388439,
                    -0.008689165115356445,
                    -0.013858841732144356,
                    -0.009168473072350025,
                    0.02408863790333271,
                    0.020528066903352737,
                    0.011736192740499973,
                    -0.013242588378489017,
                    0.010921369306743145,
                    0.0024684348609298468,
                    0.023883221670985222,
                    -0.013660270720720291,
                    0.03388021141290665,
                    -0.006864371709525585,
                    0.022554853931069374,
                    0.0014113901415839791,
                    0.006210458930581808,
                    -0.03607133403420448,
                    -0.001710101612843573,
                    -0.009175320155918598,
                    0.004070692230015993,
                    0.022691799327731133,
                    0.02362302504479885,
                    -0.003831038484349847,
                    0.01135274674743414,
                    0.043438978493213654,
                    0.008004439994692802,
                    0.005347704980522394,
                    -0.014050564728677273,
                    0.004039879888296127,
                    0.018514974042773247,
                    0.001167456735856831,
                    -0.018295861780643463,
                    -0.6323575973510742,
                    -0.027142513543367386,
                    0.023773664608597755,
                    0.0051080514676868916,
                    0.0004420758050400764,
                    0.010551618412137032,
                    -0.002221933798864484,
                    0.008723401464521885,
                    -0.010332506150007248,
                    0.030812641605734825,
                    -0.021199097856879234,
                    -0.011879985220730305,
                    -0.021199097856879234,
                    -0.018213694915175438,
                    -0.031113920733332634,
                    -0.015844544395804405,
                    -0.003985101822763681,
                    -0.017035966739058495,
                    0.009373890236020088,
                    -0.009161625057458878,
                    -0.008915124461054802,
                    0.03598916530609131,
                    -0.0069636572152376175,
                    -0.014529872685670853,
                    -0.002581414533779025,
                    -0.026060648262500763,
                    -0.008689165115356445,
                    -0.025170505046844482,
                    -0.011879985220730305,
                    0.01943250559270382,
                    -0.02680015191435814,
                    6.237420166144148e-05,
                    -0.00923694483935833,
                    -0.01824108324944973,
                    0.04913589358329773,
                    -0.003553724614903331,
                    -0.008928818628191948,
                    0.01169510930776596,
                    0.030292250216007233,
                    -0.008778179064393044,
                    -0.0031206358689814806,
                    -0.004686945118010044,
                    -0.006789051927626133,
                    0.009339653886854649,
                    0.009305417537689209,
                    -0.0074087283574044704,
                    -0.011640331707894802,
                    -0.01632385328412056,
                    0.024074943736195564,
                    0.005087509285658598,
                    -0.01826847344636917,
                    -0.002446181373670697,
                    -0.0014824303798377514,
                    -0.009942212142050266,
                    0.009373890236020088,
                    0.005522310268133879,
                    0.005594206508249044,
                    -0.014187510125339031,
                    0.010051768273115158,
                    -0.0031582957599312067,
                    0.006761663127690554,
                    0.011921068653464317,
                    -0.005813318304717541,
                    0.01741941273212433,
                    -0.03492099419236183,
                    -0.012105944566428661,
                    -0.018912114202976227,
                    0.012147027999162674,
                    0.009887434542179108,
                    -0.007675771601498127,
                    0.0006072657997719944,
                    0.011784123256802559,
                    0.0016596030909568071,
                    -0.03188081458210945,
                    0.018624529242515564,
                    0.019651617854833603,
                    0.019405117258429527,
                    -0.010592701844871044,
                    -0.0015491911908611655,
                    -0.0039371708407998085,
                    -0.00477595953270793,
                    -0.018350640311837196,
                    -0.013454853557050228,
                    0.009771031327545643,
                    0.01609104685485363,
                    -0.004149435553699732,
                    -0.03190820291638374,
                    0.023376524448394775,
                    0.018487585708498955,
                    0.011003537103533745,
                    0.021404515951871872,
                    0.021390819922089577,
                    -0.001819657627493143,
                    -0.02207554504275322,
                    -0.002797103254124522,
                    0.023842137306928635,
                    -0.004642438143491745,
                    -0.0058852145448327065,
                    0.023965388536453247,
                    0.006881489884108305,
                    0.0028878292068839073,
                    -0.013256283476948738,
                    0.009141083806753159,
                    -0.0049368697218596935,
                    -0.0066007524728775024,
                    0.0171866063028574,
                    -0.024170804768800735,
                    0.008887735195457935,
                    0.0206513162702322,
                    -0.015228291973471642,
                    0.0038447328843176365,
                    -0.005152558442205191,
                    -0.009367043152451515,
                    0.02118540368974209,
                    0.01784394308924675,
                    -0.025567645207047462,
                    0.00034065087675116956,
                    0.04108352214097977,
                    0.010264033451676369,
                    -0.01704966090619564,
                    0.012003235518932343,
                    0.012811211869120598,
                    0.0027594431303441525,
                    -0.012181264348328114,
                    0.01615951955318451,
                    0.008935665711760521,
                    0.007484048139303923,
                    -0.0026515990030020475,
                    -0.032236870378255844,
                    0.019322950392961502,
                    0.02738901413977146,
                    0.006925997324287891,
                    0.03201775997877121,
                    -0.003909782040864229,
                    -0.0014858540380373597,
                    0.026622122153639793,
                    -0.0013069695560261607,
                    -0.012462001293897629,
                    0.02451316826045513,
                    0.0019993979949504137,
                    -0.013290519826114178,
                    0.006991046015173197,
                    -0.021103236824274063,
                    0.0019052483839914203,
                    -0.023308051750063896,
                    -0.0237873587757349,
                    -0.011332204565405846,
                    -0.009565613232553005,
                    -0.03199036791920662,
                    -0.00026768483803607523,
                    0.029580136761069298,
                    -0.002581414533779025,
                    -0.010907675139605999,
                    -0.007545673754066229,
                    0.0006278075743466616,
                    -0.005960534326732159,
                    0.0039371708407998085,
                    0.0017683032201603055,
                    -0.0040227617137134075,
                    -0.012092250399291515,
                    0.006689766887575388,
                    0.02521158754825592,
                    -0.019720090553164482,
                    0.02867629937827587,
                    0.011386983096599579,
                    0.014091648161411285,
                    -0.004608201794326305,
                    -0.007018435280770063,
                    0.008353649638593197,
                    -0.010592701844871044,
                    0.006296049803495407,
                    0.004543152637779713,
                    0.014461399987339973,
                    -0.006193340755999088,
                    0.031141309067606926,
                    -0.003868698375299573,
                    -0.015337848104536533,
                    0.007258088793605566,
                    -0.010647479444742203,
                    0.02200707420706749,
                    0.03396238014101982,
                    -0.022951994091272354,
                    -0.03467449173331261,
                    0.0064398422837257385,
                    0.008504289202392101,
                    0.0180082768201828,
                    -0.004033032339066267,
                    -0.0007797310245223343,
                    0.014543566852807999,
                    0.022678105160593987,
                    -0.00968201644718647,
                    -0.010681715793907642,
                    0.00931911263614893,
                    0.003041892545297742,
                    -0.011236343532800674,
                    -0.005577088333666325,
                    -0.0010313675738871098,
                    0.005005342420190573,
                    0.007086907513439655,
                    0.012468849308788776,
                    0.00935334898531437,
                    -0.010051768273115158,
                    0.046670880168676376,
                    -0.014201204292476177,
                    -0.0012761568650603294,
                    -0.01602257415652275,
                    0.00903837475925684,
                    -0.022048156708478928,
                    0.022226186469197273,
                    0.029634913429617882,
                    0.004149435553699732,
                    -0.037358615547418594,
                    -0.022089241072535515,
                    -0.015241987071931362,
                    -0.011784123256802559,
                    0.03396238014101982,
                    0.0015979778254404664,
                    0.01349593698978424,
                    -0.022910911589860916,
                    0.02270549349486828,
                    0.008723401464521885,
                    -0.009154777973890305,
                    0.0008927106973715127,
                    -0.023513469845056534,
                    -0.031086532399058342,
                    -0.0006008464843034744,
                    -0.005310045089572668,
                    0.0005242428742349148,
                    0.010695409961044788,
                    -0.008716554380953312,
                    -0.017487885430455208,
                    0.02864890918135643,
                    0.01144860778003931,
                    0.02128126472234726,
                    0.0008019845699891448,
                    0.002785120392218232,
                    0.007258088793605566,
                    -0.001901824725791812,
                    0.015255681239068508,
                    -0.02137712575495243,
                    -0.0006389343761838973,
                    0.010058615356683731,
                    -0.003076128661632538,
                    0.006569940131157637,
                    0.019706396386027336,
                    -0.004258991684764624,
                    0.044726260006427765,
                    0.00860699824988842,
                    -0.005679796915501356,
                    0.004385665990412235,
                    0.007080060429871082,
                    -0.005330586805939674,
                    -0.007073212880641222,
                    0.0014713036362081766,
                    -0.004423325881361961,
                    -0.028265463188290596,
                    -0.010106546804308891,
                    0.011790971271693707,
                    0.037687283009290695,
                    0.045219264924526215,
                    0.004478103946894407,
                    0.0038755456916987896,
                    0.010784424841403961,
                    0.017337245866656303,
                    -0.005039578769356012,
                    -0.004139164928346872,
                    0.004255568142980337,
                    -0.0019531790167093277,
                    0.0030915350653231144,
                    -0.007052671164274216,
                    -0.022322047501802444,
                    -0.00475884135812521,
                    0.023801054805517197,
                    0.014831151813268661,
                    0.015173514373600483,
                    0.017159217968583107,
                    -0.030182695016264915,
                    0.010750188492238522,
                    0.00723754707723856,
                    0.007258088793605566,
                    -0.012290820479393005,
                    -0.04606832191348076,
                    0.008237246423959732,
                    0.019774869084358215,
                    -0.014283371157944202,
                    -0.016803160309791565,
                    -0.02743009850382805,
                    -0.005912603810429573,
                    -0.02851196378469467,
                    0.02102106809616089,
                    -0.016310159116983414,
                    -0.00010570447921054438,
                    -0.027964184060692787,
                    0.01012708805501461,
                    -0.00430349912494421,
                    -0.001470447750762105,
                    0.043767645955085754,
                    -0.010106546804308891,
                    0.019966591149568558,
                    -0.017008578404784203,
                    0.008867193944752216,
                    -0.022541159763932228,
                    -0.013482242822647095,
                    -0.010962452739477158,
                    0.026909707114100456,
                    0.0019651618786156178,
                    0.010305116884410381,
                    -0.004033032339066267,
                    0.01442031655460596,
                    -0.003041892545297742,
                    -0.007251241710036993,
                    -0.00029507384169846773,
                    -0.037358615547418594,
                    0.0014909894671291113,
                    -1.866946513473522e-05,
                    0.007833258248865604,
                    -0.03220948204398155,
                    -0.003023062599822879,
                    0.020144620910286903,
                    -0.012297667562961578,
                    -0.010544770397245884,
                    -0.03360632061958313,
                    -0.018254779279232025,
                    -0.019802257418632507,
                    0.14187510311603546,
                    0.02558133937418461,
                    -0.0041151996701955795,
                    0.006737697869539261,
                    0.007374492473900318,
                    0.004539729095995426,
                    -0.011715651489794254,
                    -0.02474597468972206,
                    0.004433596972376108,
                    0.0007895739399828017,
                    -0.003317494411021471,
                    0.015680210664868355,
                    -0.008374190889298916,
                    0.03103175386786461,
                    0.002601956482976675,
                    0.011147328652441502,
                    0.014570956118404865,
                    -0.011743039824068546,
                    -0.007655229419469833,
                    0.0006517729489132762,
                    0.003290105378255248,
                    0.00014272244879975915,
                    0.003228480229154229,
                    0.02815590798854828,
                    0.007600451819598675,
                    0.01592671126127243,
                    0.005573664326220751,
                    0.018131528049707413,
                    0.011441760696470737,
                    -0.029744470492005348,
                    -0.0403166301548481,
                    0.012249737046658993,
                    -0.0002499247493688017,
                    0.009668322280049324,
                    -0.020213093608617783,
                    -0.02947057969868183,
                    -0.001977144507691264,
                    0.020966291427612305,
                    0.024759668856859207,
                    -0.014803762547671795,
                    0.01353017333894968,
                    0.003957712557166815,
                    -0.0034356096293777227,
                    -0.01840541884303093,
                    0.01037358958274126,
                    -0.0024924003519117832,
                    -0.007415575906634331,
                    0.005142287351191044,
                    -0.0004981377278454602,
                    -0.03409932181239128,
                    0.02703295834362507,
                    0.0077716330997645855,
                    0.006720579694956541,
                    -0.014447704888880253,
                    -0.01978856325149536,
                    0.0023725733626633883,
                    -0.01016132440418005,
                    -0.015063958242535591,
                    -0.032565537840127945,
                    0.005844131112098694,
                    -0.011667720042169094,
                    -0.01658404804766178,
                    -0.00428638095036149,
                    -0.022856133058667183,
                    -0.030182695016264915,
                    -0.011558163911104202,
                    -0.019993981346488,
                    0.01552957110106945,
                    0.004248721059411764,
                    -0.0221440177410841,
                    0.011270579881966114,
                    -0.03524966165423393,
                    -0.0261017307639122,
                    0.009510835632681847,
                    0.022513769567012787,
                    0.017761776223778725,
                    0.0011640330776572227,
                    -0.01641971431672573,
                    0.0069705042988061905,
                    -0.01672099344432354,
                    0.006895184516906738,
                    -0.025156810879707336,
                    -0.0027680022176355124,
                    -0.028895409777760506,
                    -0.03856373205780983,
                    -0.013098795898258686,
                    0.007134838495403528,
                    0.015570654533803463,
                    -0.013612340204417706,
                    0.007333408575505018,
                    -0.00025912575074471533,
                    0.01559804379940033,
                    0.01227712631225586,
                    -0.005001918878406286,
                    -0.0022647292353212833,
                    0.025786757469177246,
                    -0.024362528696656227,
                    0.009996990673244,
                    -0.005827012937515974,
                    -0.0013865688815712929,
                    0.013215200044214725,
                    -0.032264258712530136,
                    -0.0014627445489168167,
                    -0.015146125108003616,
                    -0.012811211869120598,
                    -0.012660572305321693,
                    0.007970203645527363,
                    0.020308954641222954,
                    -0.008367343805730343,
                    -0.004529458470642567,
                    0.01982964761555195,
                    -0.046177878975868225,
                    -0.018884725868701935,
                    -0.007853800430893898,
                    -0.01153077557682991,
                    -0.015255681239068508,
                    0.01064063236117363,
                    0.012359293177723885,
                    -0.012126486748456955,
                    -0.01704966090619564,
                    -0.005827012937515974,
                    -0.031278256326913834,
                    0.021459292620420456,
                    0.016433408483862877,
                    -0.013235741294920444,
                    0.018487585708498955,
                    -0.0011400677030906081,
                    -0.02074717916548252,
                    -0.010339353233575821,
                    -0.0060632433742284775,
                    0.006611023563891649,
                    0.021500376984477043,
                    0.006703461520373821,
                    -0.0032455981709063053,
                    0.00019471877021715045,
                    0.015228291973471642,
                    -0.003961136098951101,
                    0.03314070776104927,
                    -0.002983690705150366,
                    -0.0058783674612641335,
                    -0.009880587458610535,
                    -0.009860045276582241,
                    -0.013146727345883846,
                    -0.03026486188173294,
                    -0.011914221569895744,
                    -0.03891979157924652,
                    0.011147328652441502,
                    0.0016433409182354808,
                    0.00038237631088122725,
                    0.027882017195224762,
                    -0.00011886404536198825,
                    -0.027005568146705627,
                    -0.013256283476948738,
                    -0.005960534326732159,
                    0.001663882634602487,
                    -0.011263732798397541,
                    0.006470654625445604,
                    -0.003687246236950159,
                    0.00650831451639533,
                    -0.0002390119479969144,
                    0.030045749619603157,
                    -0.0003295240749139339,
                    -0.011113093234598637,
                    0.009818961843848228,
                    0.0149544021114707,
                    0.00955191906541586,
                    0.009476599283516407,
                    0.023184800520539284,
                    0.009709405712783337,
                    0.009141083806753159,
                    0.008086606860160828,
                    0.018254779279232025,
                    -0.02554025687277317,
                    -0.002877558348700404,
                    -0.008894582279026508,
                    0.0020918359514325857,
                    -0.021883822977542877,
                    0.0035605719313025475,
                    -0.03828984126448631,
                    0.0007502022199332714,
                    0.0033123590983450413,
                    -0.007942814379930496,
                    -0.018282167613506317,
                    0.014776373282074928,
                    -0.026759067550301552,
                    -0.03248337283730507,
                    0.03349676355719566,
                    -0.005748269613832235,
                    0.0304018072783947,
                    -0.012126486748456955,
                    0.010921369306743145,
                    -0.002167155733332038,
                    0.02240421436727047,
                    0.02369149774312973,
                    0.005060120485723019,
                    -0.02200707420706749,
                    0.00724439462646842,
                    -0.016762077808380127,
                    0.01863822527229786,
                    0.007217005360871553,
                    0.008983597159385681,
                    0.012283973395824432,
                    -0.0017349228728562593,
                    0.012578405439853668,
                    0.017501579597592354,
                    0.0403166301548481,
                    0.007552520837634802,
                    -0.002831339370459318,
                    0.01447509415447712,
                    -0.035797443240880966,
                    0.005939992610365152,
                    -0.006073513999581337,
                    0.0008302294882014394,
                    -0.023937998339533806,
                    -0.010907675139605999,
                    -0.007956508547067642,
                    0.005741422064602375,
                    0.0004908625269308686,
                    -0.007429270073771477,
                    -0.03670128062367439,
                    -0.007942814379930496,
                    -0.010996689088642597,
                    0.014639428816735744,
                    0.006196764763444662,
                    0.021829044446349144,
                    0.024143416434526443,
                    -0.016844244673848152,
                    -0.028101129457354546,
                    0.00628577871248126,
                    -0.009161625057458878,
                    0.007018435280770063,
                    0.014050564728677273,
                    0.006973927840590477,
                    -0.039275847375392914,
                    0.009654628112912178,
                    -0.005371670704334974,
                    0.02191121131181717,
                    0.020528066903352737,
                    -0.01793980412185192,
                    0.04080963134765625,
                    -0.003033333458006382,
                    0.009175320155918598,
                    -0.013612340204417706,
                    -0.037522949278354645,
                    -0.018693001940846443,
                    0.018391722813248634,
                    -0.02729315310716629,
                    -0.008339955471456051,
                    -0.006727426778525114,
                    -0.02782723866403103,
                    -0.0393306240439415,
                    0.014351843856275082,
                    -0.009360196068882942,
                    0.012722196988761425,
                    -0.0037283296696841717,
                    -0.02154145948588848,
                    0.017487885430455208,
                    -0.007675771601498127,
                    -0.00788118876516819,
                    -0.0009166760719381273,
                    -0.038152895867824554,
                    0.042672086507081985,
                    -0.018980586901307106,
                    0.004389089532196522,
                    -0.006949962582439184,
                    0.01080496609210968,
                    -0.02719729207456112,
                    -0.011612942442297935,
                    -0.020076148211956024,
                    0.024362528696656227,
                    -0.05266907438635826,
                    0.008860345929861069,
                    0.00567637337371707,
                    0.012516779825091362,
                    0.014502483420073986,
                    -0.0008901429828256369,
                    -0.024526862427592278,
                    -0.00560790067538619,
                    -0.021253876388072968,
                    0.0020524642895907164,
                    0.013242588378489017,
                    -0.02755334973335266,
                    -0.01913122646510601,
                    -0.004960835445672274,
                    -0.0003528475353959948,
                    -0.014516177587211132,
                    -0.026786455884575844,
                    -0.006621294189244509,
                    0.02663581632077694,
                    0.0024752821773290634,
                    0.0004251716600265354,
                    -0.021787961944937706,
                    -0.005217607133090496,
                    0.008442663587629795,
                    0.0016339259454980493,
                    -0.00812769029289484,
                    -0.012283973395824432,
                    0.020035063847899437,
                    -0.024033861234784126,
                    0.010168171487748623,
                    -0.010517382062971592,
                    0.0239516943693161,
                    -0.03749556094408035,
                    0.001535496674478054,
                    -0.006052972283214331,
                    -0.010140783153474331,
                    0.01135274674743414,
                    0.001901824725791812,
                    -0.027936795726418495,
                    -0.018651919439435005,
                    0.010565312579274178,
                    -0.00764838233590126,
                    0.02438991703093052,
                    -0.0052689616568386555,
                    0.011407524347305298,
                    0.007258088793605566,
                    0.006145410239696503,
                    -0.009147930890321732,
                    -0.016734687611460686,
                    0.04401414841413498,
                    0.011339052580296993,
                    0.014050564728677273,
                    -0.010914522223174572,
                    -0.016173213720321655,
                    0.007963355630636215,
                    0.018597140908241272,
                    0.017871331423521042,
                    0.01356440968811512,
                    -0.015543266199529171,
                    -0.0039440179243683815,
                    -0.004474680405110121,
                    0.0037659895606338978,
                    0.01107200887054205,
                    -0.006463807541877031,
                    0.001847046660259366,
                    0.004950564354658127,
                    -0.0013934160815551877,
                    -0.006059819366782904,
                    0.02266440913081169,
                    -0.0038447328843176365,
                    0.02319849468767643,
                    0.01576237753033638,
                    0.023937998339533806,
                    0.0003511357354000211,
                    -0.01592671126127243,
                    -0.017857637256383896,
                    -0.02008984237909317,
                    0.010400978848338127,
                    -0.02729315310716629,
                    -0.023020466789603233,
                    0.003344883443787694,
                    0.042151693254709244,
                    0.0036701280623674393,
                    -0.00819616299122572,
                    -0.0018230812856927514,
                    0.02058284543454647,
                    -0.019569450989365578,
                    0.00022146585979498923,
                    -0.032565537840127945,
                    0.024280361831188202,
                    0.0376598946750164,
                    0.030511362478137016,
                    0.010489992797374725,
                    0.031305644661188126,
                    0.0018915538676083088,
                    0.014036870561540127,
                    0.0041151996701955795,
                    -0.025293754413723946,
                    0.014776373282074928,
                    -0.029881415888667107,
                    0.011044620536267757,
                    0.024444695562124252,
                    -0.01077072974294424,
                    0.003048739628866315,
                    0.036098722368478775,
                    -0.01629646308720112,
                    -0.009401279501616955,
                    0.027087735012173653,
                    -0.0074087283574044704,
                    -0.028375020250678062,
                    -0.01197584718465805,
                    0.006258389912545681,
                    -0.0016544676618650556,
                    0.004327464383095503,
                    0.009627238847315311,
                    -0.023554552346467972,
                    -0.004471256863325834,
                    0.012845448218286037,
                    0.006535703781992197,
                    -0.010620090179145336,
                    -0.00025912575074471533,
                    0.0035605719313025475,
                    -0.007422422990202904,
                    0.00542644876986742,
                    -0.019966591149568558,
                    -0.01513243094086647,
                    0.011585553176701069,
                    -0.023609330877661705,
                    0.02663581632077694,
                    0.02104845829308033,
                    0.005248419940471649,
                    0.018487585708498955,
                    0.00011747319513233379,
                    0.0006325150607153773,
                    -0.011222648434340954,
                    -0.005200489424169064,
                    0.00964778009802103,
                    0.013756132684648037,
                    -0.0010998401558026671,
                    -0.003896087408065796,
                    0.0249513927847147,
                    0.00012260863150004297,
                    0.015091347508132458,
                    -0.00540248304605484,
                    -0.014598344452679157,
                    -0.012325056828558445,
                    0.006118020974099636,
                    -0.011421219445765018,
                    0.025197893381118774,
                    0.00832626037299633,
                    -0.016077350825071335,
                    0.018049361184239388,
                    -0.040700074285268784,
                    -0.014940707944333553,
                    -0.017994582653045654,
                    -0.010976147837936878,
                    -0.012058014050126076,
                    -0.029634913429617882,
                    -0.032264258712530136,
                    0.012400376610457897,
                    -0.01662513241171837,
                    0.0029357599560171366,
                    -0.0049368697218596935,
                    0.005827012937515974,
                    -0.007080060429871082,
                    0.0021260723005980253,
                    0.2412424385547638,
                    -0.023650415241718292,
                    0.029854025691747665,
                    0.013742438517510891,
                    -0.013934161514043808,
                    0.026526261121034622,
                    0.005498344544321299,
                    0.008024981245398521,
                    0.0030127917416393757,
                    -0.0006817296962253749,
                    -0.022363130003213882,
                    0.0090041384100914,
                    9.404274896951392e-05,
                    0.0013026900123804808,
                    0.002976843621581793,
                    0.01751527562737465,
                    -0.042206473648548126,
                    -0.03467449173331261,
                    -0.009524529799818993,
                    0.01817261055111885,
                    -0.007901730947196484,
                    -0.01111994031816721,
                    0.017885027453303337,
                    0.0029289128724485636,
                    -0.001598833710886538,
                    0.022061850875616074,
                    -0.0016604589764028788,
                    0.013030324131250381,
                    -0.007114296779036522,
                    -0.013174115680158138,
                    -0.02848457545042038,
                    0.0026978179812431335,
                    0.018117833882570267,
                    0.011592400260269642,
                    0.01770699769258499,
                    -0.015707600861787796,
                    0.0153652373701334,
                    -0.003529759356752038,
                    0.024567946791648865,
                    0.011106245219707489,
                    0.017652219161391258,
                    0.009880587458610535,
                    -0.003759142244234681,
                    -0.032401204109191895,
                    0.004146012011915445,
                    0.03357893228530884,
                    -0.00519706541672349,
                    -0.011818359605967999,
                    0.0038070729933679104,
                    0.017241384834051132,
                    -0.02558133937418461,
                    -0.020610233768820763,
                    0.0012864278396591544,
                    0.028375020250678062,
                    0.009278029203414917,
                    5.94855155213736e-05,
                    0.029388412833213806,
                    0.027101431041955948,
                    0.0005927153979428113,
                    -0.0065939053893089294,
                    -0.008935665711760521,
                    0.02144559845328331,
                    -0.007668924052268267,
                    0.015981489792466164,
                    -0.0108186611905694,
                    0.060474943369627,
                    0.00989428162574768,
                    0.00968201644718647,
                    0.0010656038066372275,
                    -0.01203062478452921,
                    -0.001283004181459546,
                    -0.0014995485544204712,
                    -0.03196297958493233,
                    -0.008401580154895782,
                    -0.02795048989355564,
                    -0.01910383813083172,
                    0.028758466243743896,
                    0.021692099049687386,
                    0.029333634302020073,
                    -0.005210760049521923,
                    -0.015022874809801579,
                    0.0016818566946312785,
                    0.008038675412535667,
                    0.014160120859742165,
                    0.0004784518387168646,
                    -0.0005726015660911798,
                    0.027265764772892,
                    -0.008497442118823528,
                    -0.02584153600037098,
                    -0.003466422203928232,
                    0.0020113808568567038,
                    -0.025389617308974266,
                    -0.0002164374163839966,
                    0.01906275376677513,
                    0.02864890918135643,
                    0.008668622933328152,
                    0.006005041301250458,
                    -0.0045465766452252865,
                    0.006090632174164057,
                    -0.01128427404910326,
                    0.00045577032142318785,
                    0.03670128062367439,
                    0.046643491834402084,
                    5.969949415884912e-05,
                    -0.014707900583744049,
                    -0.017871331423521042,
                    -0.01101723127067089,
                    0.011469149962067604,
                    0.010462603531777859,
                    -0.040261853486299515,
                    -0.007867494598031044,
                    -0.01149653922766447,
                    0.0056455605663359165,
                    -0.008778179064393044,
                    0.010551618412137032,
                    -0.0016253668582066894,
                    -0.0012282261159271002,
                    0.008134537376463413,
                    0.032894205302000046,
                    0.0035811136476695538,
                    -0.0009029815555550158,
                    -0.053079910576343536,
                    -0.015146125108003616,
                    -0.007360797841101885,
                    0.0009406415047124028,
                    -0.009942212142050266,
                    -0.04206952825188637,
                    0.0075388262048363686,
                    0.000517395616043359,
                    -0.04275425150990486,
                    0.03861851245164871,
                    -0.006145410239696503,
                    0.02144559845328331,
                    -0.01576237753033638,
                    -0.011626636609435081,
                    -0.007463506422936916,
                    0.025266366079449654,
                    0.007751091383397579,
                    8.442048624601739e-07,
                    0.004512340296059847,
                    -0.009168473072350025,
                    -0.018213694915175438,
                    0.00961354374885559,
                    0.00819616299122572,
                    0.010400978848338127,
                    -0.00010757677227957174,
                    0.02696448564529419,
                    -0.022951994091272354,
                    -0.0031000941526144743,
                    0.0029340481851249933,
                    -0.03152475506067276,
                    0.023842137306928635,
                    -0.005008765961974859,
                    -0.015570654533803463,
                    0.012503085657954216,
                    -0.01955575682222843,
                    -0.026649512350559235,
                    -0.005063544027507305,
                    -0.021103236824274063,
                    0.03363370895385742,
                    -0.0055531226098537445,
                    -0.0094149736687541,
                    0.030182695016264915,
                    -0.03259292617440224,
                    -0.010592701844871044,
                    -0.004875244572758675,
                    -0.17518013715744019,
                    0.027375319972634315,
                    -0.009640933014452457,
                    -0.015241987071931362,
                    0.02286982722580433,
                    -0.004625319968909025,
                    0.009127389639616013,
                    -0.0008511992054991424,
                    -0.002148325787857175,
                    0.009942212142050266,
                    0.021897517144680023,
                    0.010175018571317196,
                    -0.010311963967978954,
                    -0.024170804768800735,
                    0.003721482353284955,
                    0.002524924697354436,
                    -0.04050835222005844,
                    0.010264033451676369,
                    0.024841835722327232,
                    0.021336043253540993,
                    0.042644694447517395,
                    -0.00976418424397707,
                    0.002278423635289073,
                    -0.010702257975935936,
                    0.014735289849340916,
                    -0.005440142937004566,
                    -0.006925997324287891,
                    0.015461099334061146,
                    -0.031113920733332634,
                    -0.017323551699519157,
                    -0.01281805895268917,
                    -0.017460497096180916,
                    0.024335140362381935,
                    0.01866561360657215,
                    0.002177426591515541,
                    0.027471181005239487,
                    0.02310263365507126,
                    -0.023773664608597755,
                    -0.0353592187166214,
                    0.04209691658616066,
                    0.03325026482343674,
                    0.013242588378489017,
                    0.015844544395804405,
                    -0.017624830827116966,
                    -0.013941008597612381,
                    -0.002208239398896694,
                    -0.004139164928346872,
                    0.006409029476344585,
                    0.014776373282074928,
                    0.005125169176608324,
                    0.006641835905611515,
                    -0.018487585708498955,
                    0.008134537376463413,
                    -0.006135139148682356,
                    0.02895018830895424,
                    0.033222876489162445,
                    -0.0029460308142006397,
                    -0.005604477133601904,
                    0.02104845829308033,
                    -0.005470955744385719,
                    0.00832626037299633,
                    -0.007662076968699694,
                    0.020870428532361984,
                    -0.0014499059179797769,
                    0.01016132440418005,
                    -0.004443867597728968,
                    -0.001893265638500452,
                    0.03971407189965248,
                    -0.023308051750063896,
                    0.008312566205859184,
                    -0.0059776525013148785,
                    -0.00022959697525948286,
                    -0.00948344636708498,
                    -0.03349676355719566,
                    0.010982994921505451,
                    0.0011220937594771385,
                    -0.020459594205021858,
                    0.010907675139605999,
                    0.0010998401558026671,
                    -0.0035776901058852673,
                    -0.021664710715413094,
                    0.005611324217170477,
                    0.013222047127783298,
                    -0.027799850329756737,
                    -0.008483747020363808,
                    0.011373287998139858,
                    -0.0039371708407998085,
                    0.014338149689137936,
                    -0.0033671369310468435,
                    -0.003409932367503643,
                    -0.007579909637570381,
                    -0.02339021861553192,
                    -0.00494714081287384,
                    -0.006306320894509554,
                    -0.0056387134827673435,
                    0.014187510125339031,
                    0.01777547039091587,
                    0.028402408584952354,
                    0.006939691491425037,
                    -0.009812114760279655,
                    -0.006597328931093216,
                    0.01039413083344698,
                    -0.013338450342416763,
                    0.012366140261292458,
                    -0.013427464291453362,
                    0.014776373282074928,
                    0.008586456067860126,
                    0.016762077808380127,
                    0.00430349912494421,
                    -0.006395334843546152,
                    -0.018323250114917755,
                    0.02422558329999447,
                    0.02128126472234726,
                    0.014968096278607845,
                    0.01080496609210968,
                    0.008661775849759579,
                    0.012900225818157196,
                    0.00903837475925684,
                    0.0188299473375082,
                    -4.161846300121397e-05,
                    0.05653092637658119,
                    0.016378629952669144,
                    -0.01945989578962326,
                    -0.00860699824988842,
                    -0.008038675412535667,
                    -0.02102106809616089,
                    -0.12609902024269104,
                    -0.05102573335170746,
                    0.00048273138236254454,
                    0.00584755465388298,
                    0.009688864462077618,
                    0.04814988747239113,
                    -0.000719389587175101,
                    0.02462272346019745,
                    0.0017075338400900364,
                    0.025622423738241196,
                    -0.0023229308426380157,
                    -0.011777276173233986,
                    0.0019805680494755507,
                    -0.010661173611879349,
                    0.024033861234784126,
                    0.009428668767213821,
                    -0.01969270221889019,
                    -0.028375020250678062,
                    -0.03264770656824112,
                    0.0020815650932490826,
                    -0.009921670891344547,
                    -0.012756433337926865,
                    0.002002821769565344,
                    -0.017528969794511795,
                    -0.0012650301214307547,
                    -0.008531678467988968,
                    -0.030292250216007233,
                    0.03755033761262894,
                    -0.0011597536504268646,
                    -0.0005101204151287675,
                    -0.03730383887887001,
                    0.004532882012426853,
                    0.008661775849759579,
                    -0.011407524347305298,
                    -0.009558766148984432,
                    0.004282957408577204,
                    -0.04590398818254471,
                    -0.005241572856903076,
                    0.018953198567032814,
                    -0.018597140908241272,
                    0.009620391763746738,
                    -0.004875244572758675,
                    -0.0067924754694104195,
                    -0.04124785587191582,
                    0.005316892638802528,
                    0.002620786428451538,
                    -0.013406923040747643,
                    0.004995071794837713,
                    0.026841234415769577,
                    -0.006388487759977579,
                    -0.0013814334524795413,
                    -0.011941610835492611,
                    -0.017871331423521042,
                    -0.007484048139303923,
                    -0.01287283655256033,
                    0.02240421436727047,
                    0.002951166359707713,
                    0.003262716345489025,
                    -0.024472083896398544,
                    -0.022198796272277832,
                    0.010620090179145336,
                    -0.0022031038533896208,
                    -0.02039112150669098,
                    0.01595410145819187,
                    -0.010318811051547527,
                    0.0044130547903478146,
                    -0.01910383813083172,
                    -0.003831038484349847,
                    0.022376826032996178,
                    -0.00880556832998991,
                    -0.007415575906634331,
                    0.005895485635846853,
                    -0.013249436393380165,
                    0.02769029326736927,
                    -0.027265764772892,
                    -0.0007771633099764585,
                    -0.04357592388987541,
                    -0.00877133198082447,
                    0.04182302579283714,
                    -0.002791967708617449,
                    -0.02851196378469467,
                    -0.00852483045309782,
                    0.004265839233994484,
                    0.015255681239068508,
                    0.02497878111898899,
                    0.03363370895385742,
                    -0.00011362161603756249,
                    0.020144620910286903,
                    -0.017501579597592354,
                    -0.004875244572758675,
                    -0.005775658413767815,
                    0.019911814481019974,
                    0.004378818906843662,
                    0.006001617759466171,
                    -0.008627539500594139,
                    0.03155214339494705,
                    -0.00012688817514572293,
                    -0.009497140534222126,
                    -0.00024500329163856804,
                    0.02623867616057396,
                    -0.01887103170156479,
                    -0.009654628112912178,
                    -0.07121143490076065,
                    0.02385583147406578,
                    -0.012722196988761425,
                    -0.0043137697502970695,
                    -0.02411602810025215,
                    -0.01265372522175312,
                    -0.007011587731540203,
                    -0.02554025687277317,
                    0.00026918266667053103,
                    0.014872235246002674,
                    -0.02250007539987564,
                    0.017720691859722137,
                    0.009264334104955196,
                    -0.004550000187009573,
                    -0.0310591422021389,
                    -0.006758239585906267,
                    0.03557832911610603,
                    -0.009462904185056686,
                    0.004940293729305267,
                    0.021390819922089577,
                    -0.0011588976485654712,
                    0.008442663587629795,
                    0.006836982909590006,
                    0.032729871571063995,
                    -0.0003999223990831524,
                    0.0013112490996718407,
                    -0.011133634485304356,
                    0.03686561435461044,
                    -0.003868698375299573,
                    -0.010044921189546585,
                    0.014502483420073986,
                    -0.020350037142634392,
                    -0.025403311476111412,
                    0.020637622103095055,
                    0.005012189503759146,
                    -0.014570956118404865,
                    -0.022048156708478928,
                    0.016282768920063972,
                    -0.0074018812738358974,
                    0.009490293450653553,
                    -0.036893002688884735,
                    -0.04160391539335251,
                    -0.01267426647245884,
                    -0.013468547724187374,
                    -0.003933747299015522,
                    0.002295541809871793,
                    -0.0009457769338041544,
                    0.006655530538409948,
                    -0.016515575349330902,
                    -0.008511136285960674,
                    -0.008449510671198368,
                    0.015009179711341858,
                    -0.026608427986502647,
                    -0.016529271379113197,
                    0.002216798486188054,
                    -0.01060639601200819,
                    0.02326696738600731,
                    -0.005292926914989948,
                    -0.0076826186850667,
                    -0.018953198567032814,
                    0.023609330877661705,
                    0.004426749423146248,
                    0.022678105160593987,
                    0.0045602708123624325,
                    0.0022253573406487703,
                    -0.0022031038533896208,
                    -0.01982964761555195,
                    -0.003656433429569006,
                    0.006001617759466171,
                    -0.017200300469994545,
                    -0.01261948887258768,
                    -0.0024033859372138977,
                    0.0027337661013007164,
                    0.01125003769993782,
                    0.018693001940846443,
                    -0.003161719301715493,
                    -0.020459594205021858,
                    0.020665012300014496,
                    -0.011592400260269642,
                    0.02193860150873661,
                    -0.0009038374992087483,
                    -0.015077652409672737,
                    -0.039987962692976,
                    0.025499172508716583,
                    -0.00903837475925684,
                    0.00564213702455163,
                    -0.0014173815725371242,
                    0.019172310829162598,
                    -0.018912114202976227,
                    0.02979924902319908,
                    -0.01121580135077238,
                    0.010305116884410381,
                    -0.0003853719972539693,
                    0.020308954641222954,
                    0.006768510211259127,
                    0.0010193849448114634,
                    0.012996087782084942,
                    0.0014601768925786018,
                    0.012071708217263222,
                    -0.0008606141782365739,
                    0.026923401281237602,
                    -0.021897517144680023,
                    0.0012076843995600939,
                    -0.03218209370970726,
                    0.009545071981847286,
                    0.0066863433457911015,
                    -0.03103175386786461,
                    -0.009996990673244,
                    -0.016638826578855515,
                    0.022513769567012787,
                    0.022349435836076736,
                    0.025485478341579437,
                    0.031278256326913834,
                    0.027046652510762215,
                    -0.011373287998139858,
                    0.018200000748038292,
                    0.01896689273416996,
                    -0.021103236824274063,
                    -0.016008879989385605,
                    0.03979623690247536,
                    0.005926297977566719,
                    0.007888035848736763,
                    0.004389089532196522,
                    -0.006480925716459751,
                    0.020172009244561195,
                    -0.005282656289637089,
                    -0.004341159015893936,
                    0.0020712942350655794,
                    0.011243190616369247,
                    0.007230699993669987,
                    0.005330586805939674,
                    -0.008963054977357388,
                    -0.029963582754135132,
                    -0.014338149689137936,
                    -0.012626335956156254,
                    -0.01576237753033638,
                    -0.01447509415447712,
                    0.012112791649997234,
                    -0.004594507161527872,
                    0.02193860150873661,
                    0.005019037052989006,
                    -0.006840406451374292,
                    0.008209857158362865,
                    0.0015235139289870858,
                    0.013557562604546547,
                    0.011386983096599579,
                    -0.01148284412920475,
                    -0.015283070504665375,
                    -0.024526862427592278,
                    0.0216373223811388,
                    0.0034047968219965696,
                    -0.003149736672639847,
                    -0.02775876596570015,
                    0.00832626037299633,
                    0.0002248894888907671,
                    0.006634988822042942,
                    -0.002803950337693095,
                    -0.03382543474435806,
                    0.028566742315888405,
                    0.008031828328967094,
                    -0.0011768717085942626,
                    0.01784394308924675,
                    0.0021722912788391113,
                    -0.004146012011915445,
                    -0.03615349903702736,
                    0.03344198688864708,
                    -0.020706094801425934,
                    -0.0032045147381722927,
                    -0.023075245320796967,
                    0.010825508274137974,
                    0.018063055351376534,
                    -0.038673289120197296,
                    0.0014969808980822563,
                    -0.002387979766353965,
                    -0.00650831451639533,
                    0.007381339557468891,
                    -0.0025779909919947386,
                    0.004505492746829987,
                    0.007764785550534725,
                    -0.007285478059202433,
                    0.017392024397850037,
                    -0.015981489792466164,
                    -0.037029948085546494,
                    0.015173514373600483,
                    0.02897757850587368,
                    -0.0216373223811388,
                    0.017323551699519157,
                    -0.017392024397850037,
                ],
                "index": 0,
                "object": "embedding",
            }
        ],
        "model": "text-embedding-ada-002",
        "object": "list",
        "usage": {"prompt_tokens": 5, "total_tokens": 5},
    }

    # Mock the sync openai api

    request_mock = RequestsMock(passthru_prefixes=("https://openaipublic"))

    request_mock.start()

    request_mock.add(
        request_mock.POST,
        "https://api.openai.com/v1/completions",
        json=mocked_completion,
    )

    request_mock.add(
        request_mock.POST,
        "https://api.openai.com/v1/embeddings",
        json=mocked_embedding,
    )

    # Mock the async openai api
    aioresponses_obj = aioresponses()

    aioresponses_obj.start()

    aioresponses_obj.add(
        url="https://api.openai.com/v1/completions",
        method="POST",
        payload=mocked_completion,
    )

    aioresponses_obj.add(
        "https://api.openai.com/v1/embeddings",
        method="POST",
        payload=mocked_embedding,
    )
